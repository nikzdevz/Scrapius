<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>TestTool</title>
</head>
<body>
<form method="POST" action="/submit">
        <label for="url">URL:</label>
        <input type="text" id="url" name="url"><br><br>

        <label for="parent">Parent:</label>
        <input type="text" id="parent" name="parent"><br><br>

        <label for="title">Title:</label>
        <input type="text" id="title" name="title"><br><br>

        <label for="link">Link:</label>
        <input type="text" id="link" name="link"><br><br>

        <label for="image">Image:</label>
        <input type="text" id="image" name="image"><br><br>

        <button type="submit">Submit</button>
    </form>
<div id="result"></div>
<script>
    document.querySelector('form').addEventListener('submit', function (e) {
        e.preventDefault();
        const url = document.querySelector('input[name="url"]').value;
        const parent = document.querySelector('input[name="parent"]').value;
        const title = document.querySelector('input[name="title"]').value;
        const link = document.querySelector('input[name="link"]').value;
        const image = document.querySelector('input[name="image"]').value;

        const param = {
            url, parent,title,link,image
        }
        fetch('/testing', {
            method: 'POST',
            body: new URLSearchParams(param),
            headers: {
                'Content-Type': 'application/x-www-form-urlencoded'
            }
        })
        .then(response => response.text())
        .then(result => {
            document.querySelector('#result').innerText = result;
            // console.log(result);

        });
    });
</script>
</body>
</html>